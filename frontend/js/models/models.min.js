var userModel=function($http,$cookieStore){var usr=$cookieStore.get('user')||{email:'',name:'',access:false};return{getUser:function(){return angular.fromJson($cookieStore.get('user'))||usr;},updateUser:function(userData){$http.defaults.headers.common.Authorization='Basic '+userData.access;return $cookieStore.put('user',angular.toJson(userData));},logout:function(){$http.defaults.headers.common.Authorization='';return $cookieStore.remove('user');},loggedin:function(){return $cookieStore.get('user')||false;},login:function(userData){return $http({method:'POST',url:'/backend/public/api/user/login',headers:{'Content-Type':'application/x-www-form-urlencoded'},params:userData});},signup:function(userData){return $http({method:'POST',url:'/backend/public/api/user/signup',headers:{'Content-Type':'application/x-www-form-urlencoded'},params:userData});}};};var expenseModel=function($http){return{get:function(){return $http.get('/backend/public/api/expense');},save:function(expenseData){expenseData.date=expenseData.date.toISOString();return $http({method:!!expenseData.id?'PUT':'POST',url:'/backend/public/api/expense'+(!!expenseData.id?'/'+expenseData.id:''),headers:{'Content-Type':'application/x-www-form-urlencoded'},params:expenseData});},destroy:function(expenseData){return $http.delete('/backend/public/api/expense/'+expenseData.id);}};};